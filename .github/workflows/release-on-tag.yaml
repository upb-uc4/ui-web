# from https://github.com/actions/create-release

# Automatically create a release when a tag with "v" prefix, i.e. "v.0.4.0" is pushed
# Release will be saved as a draft.
# Body will contain a link to the changelog on the master branch!

on:
  push:
    tags:
      - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10
      
name: Create Release

jobs:
  build:
    name: Create Release
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@master
      - name: Create Release for Tag
        id: create_release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # This token is provided by Actions, you do not need to create your own token
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          body: |
            Please refer to [CHANGELOG.md](https://github.com/upb-uc4/ui-web/blob/master/CHANGELOG.md) for details.
          draft: true
          prerelease: true